# ===== CONFIGURACIÓN GENERAL SAM =====

# --- Logging ---
LOG_DIRECTORY=C:/RPA/Logs/SAM
LOG_LEVEL=INFO
LOG_BACKUP_COUNT=7
LOG_FORMAT=%(asctime)s - PID:%(process)d - %(name)s - %(levelname)s - %(funcName)s - %(message)s
LOG_DATEFMT=%Y-%m-%d %H:%M:%S

# --- Archivos de log específicos ---
APP_LOG_FILENAME_LANZADOR=sam_lanzador_app.log
APP_LOG_FILENAME_BALANCEADOR=sam_balanceador_app.log
CALLBACK_LOG_FILENAME=sam_callback_server.log
INTERFAZ_WEB_LOG_FILENAME=sam_interfaz_web.log

# --- Base de Datos SAM ---
SQL_SAM_DRIVER={ODBC Driver 17 for SQL Server}
SQL_SAM_HOST=
SQL_SAM_DB_NAME=
SQL_SAM_UID=
SQL_SAM_PWD=
SQL_SAM_TIMEOUT_CONEXION_INICIAL=30
SQL_SAM_MAX_REINTENTOS_QUERY=3
SQL_SAM_DELAY_REINTENTO_QUERY_BASE_SEG=2
SQL_SAM_CODIGOS_SQLSTATE_REINTENTABLES=40001,HYT00,HYT01,08S01

# --- Base de Datos RPA360 ---
SQL_RPA360_DRIVER={ODBC Driver 17 for SQL Server}
SQL_RPA360_HOST=
SQL_RPA360_DB_NAME=
SQL_RPA360_UID=
SQL_RPA360_PWD=
SQL_RPA360_TIMEOUT_CONEXION_INICIAL=30
SQL_RPA360_MAX_REINTENTOS_QUERY=3
SQL_RPA360_DELAY_REINTENTO_QUERY_BASE_SEG=2

# --- Automation Anywhere ---
AA_URL=
AA_USER=
AA_PWD=8}
# AA_API_KEY=
AA_API_TIMEOUT_SECONDS=60
AA_TOKEN_REFRESH_BUFFER_SEC=1140
API_DEFAULT_PAGE_SIZE=100
API_MAX_PAGINATION_PAGES=1000

# --- Callback Server ---
CALLBACK_SERVER_HOST=0.0.0.0
CALLBACK_SERVER_PORT=8008
# CALLBACK_SERVER_PUBLIC_HOST=
CALLBACK_SERVER_THREADS=8
CALLBACK_ENDPOINT_PATH=/api/aa360_callback
# La URL de callback se construye automáticamente, pero puedes sobreescribirla:
AA_URL_CALLBACK=http://10.167.181.41:8008/api/aa360_callback
CALLBACK_TOKEN=
CALLBACK_AUTH_MODE=optional

# --- Email ---
# EMAIL_DOMAIN=
EMAIL_SMTP_SERVER=10.249.11.80
EMAIL_SMTP_PORT=25
# EMAIL_USE_TLS=true
# EMAIL_USER=sam-service@empresa.com
# EMAIL_PASSWORD=password_email_seguro
EMAIL_FROM=
EMAIL_RECIPIENTS=

# --- Configuración Lanzador ---
LANZADOR_BOT_INPUT_VUELTAS=2
LANZADOR_INTERVALO_LANZADOR_SEG=30
LANZADOR_INTERVALO_CONCILIADOR_SEG=180
LANZADOR_INTERVALO_SYNC_TABLAS_SEG=3600
LANZADOR_MAX_LANZAMIENTOS_CONCURRENTES=10
LANZADOR_MAX_REINTENTOS_DEPLOY=1
LANZADOR_DELAY_REINTENTO_DEPLOY_SEG=15
LANZADOR_PAUSA_INICIO_HHMM=21:00
LANZADOR_PAUSA_FIN_HHMM=21:15
LANZADOR_HABILITAR_SYNC=false

# --- Configuración Balanceador ---
BALANCEADOR_INTERVALO_CICLO_SEG=120
BALANCEADOR_DEFAULT_TICKETS_POR_EQUIPO=10
BALANCEADOR_COOLING_PERIOD_SEG=300  # Nuevo parámetro

# Mapeo de robots (JSON)
MAPA_ROBOTS={"RBTS_ABM_MTV_APP": "P571850_AltaTV", "RBTS_ABM_VOTT_APP": "P573221_VentaOTT"}

# --- SSH y MySQL para Clouders ---
CLOUDERS_SSH_HOST=
CLOUDERS_SSH_PORT=22
CLOUDERS_SSH_USER=
CLOUDERS_SSH_PASS=
CLOUDERS_MYSQL_DB_HOST=127.0.0.1
CLOUDERS_MYSQL_DB_PORT=3306
CLOUDERS_MYSQL_DB_NAME=clouders
CLOUDERS_MYSQL_USER=
CLOUDERS_MYSQL_PASS=
CLOUDERS_MAX_REINTENTOS_SSH_CONNECT=3
CLOUDERS_DELAY_REINTENTO_SSH_SEG=5
CLOUDERS_MAX_REINTENTOS_MYSQL_QUERY=2
CLOUDERS_DELAY_REINTENTO_MYSQL_QUERY_SEG=3

# --- Configuración API de Clouders ---
CLOUDERS_API_URL=https://clouders.telefonica.com.ar
CLOUDERS_AUTH=
CLOUDERS_VERIFY_SSL=false
API_TIMEOUT=30

# --- Configuración Interfaz Web ---
INTERFAZ_WEB_HOST=127.0.0.1
INTERFAZ_WEB_PORT=8000
INTERFAZ_WEB_DEBUG=true
# INTERFAZ_WEB_SECRET_KEY=clave_secreta_muy_segura_cambiar_en_produccion
INTERFAZ_WEB_SESSION_TIMEOUT_MIN=30
INTERFAZ_WEB_MAX_UPLOAD_SIZE_MB=16

# --- Configuración del APIGW ---
API_GATEWAY_URL=https://apiinternos.movistar.com.ar/telefonica/api/v1/oauth2/token
API_GATEWAY_CLIENT_ID=45ad043ddd7513c1aee72f567bbaea19
API_GATEWAY_CLIENT_SECRET=
API_GATEWAY_SCOPE=scope1

# --- Configuración del Servidor de Autorización ---
AUTH_SERVER_HOST=0.0.0.0
AUTH_SERVER_PORT=5001
APIGW_CLIENT_ID=
APIGW_CLIENT_SECRET=

# --- Configuración de JWT para SAM Callback ---
# Pega aquí la clave pública que genera el auth_server al iniciar.
# Debe estar entre comillas triples si tiene saltos de línea.
JWT_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----
.....
-----END PUBLIC KEY-----"

JWT_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----
.....
-----END PRIVATE KEY-----"
JWT_AUDIENCE="sam-callback-service"
JWT_ISSUER="sam-auth-server"